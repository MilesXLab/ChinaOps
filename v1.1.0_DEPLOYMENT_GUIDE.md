# ChinaOps v1.1.0 Deployment Guide (SRE Protocol)

This guide outlines the procedure for transitioning from ChinaOps v1.0 (Static) to v1.1.0 (Utility-Driven/Validated).

## 1. Pre-Deployment Check
Ensure you are on the feature branch:
```bash
git branch # Should be feat/v1.1-infrastructure-patch
```

Run the validation audit:
```bash
python scripts/ttl_check.py
```
*Requirement: All core SOPs (Visa, Payment, HSR) must return [OK].*

## 2. Technical Component Verification
- **Metadata Headers:** Verified in `docs/01-System-Setup/` and `docs/02-Daily-Runtime/`.
- **WASM Logic:** Rust source located in `scripts/train_sanitizer.rs`.
- **Auditor Tool:** Python script located in `scripts/ttl_check.py`.

## 3. Merge Procedure (Strict Protocol)
Do **NOT** use `git merge` directly on `main`. Follow the peer-review flow:

1. **Commit all changes:**
   ```bash
   git add .
   git commit -m "feat(v1.1): implement SRE metadata patch and validation scripts"
   ```

2. **Push to Remote:**
   ```bash
   git push origin feat/v1.1-infrastructure-patch
   ```

3. **Open Pull Request (PR):**
   - Title: `v1.1.0 Migration: Metadata Patch & Utility Infrastructure`
   - Description: Transitioning to validated state management. Includes TTL auditor and 12306 sanitizer logic.

4. **Architect Approval:**
   - Review the `ttl_check.py` output in CI logs.
   - Verify YAML frontmatter syntax.

5. **Final Squash & Merge:**
   - Once approved, merge into `main`.

## 4. Post-Deployment (Production Monitoring)
After merging to `main`, set up the GitHub Action:
- Enable `.github/workflows/sop-health-check.yml` (to be implemented).
- Schedule weekly manual field tests for "Yellow" status SOPs (TTL < 15 days).

---
**Prepared by:** Senior SRE & Antigravity Architect
**Date:** 2026-01-26
